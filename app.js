function CheckIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" role="img" aria-hidden="true">
      <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m3.854-9.646a.5.5 0 0 0-.708-.708L6.5 10.293 4.854 8.646a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0z" />
    </svg>
  );
}

function LeafIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" role="img" aria-hidden="true">
      <path d="M1.964.686a.5.5 0 0 1 .58-.093c2.69 1.345 4.898 2.897 6.317 4.316C11.62 7.669 12.43 9.787 11.9 12.107c-.56 2.502-2.7 3.46-4.53 3.785-1.66.296-3.418-.118-4.593-1.435C1.532 13.338 1 12.12 1 10.886V1a.5.5 0 0 1 .964-.314zm.623 10.82c.967 1.085 2.378 1.398 3.66 1.171 1.635-.293 3.168-1.118 3.553-2.839.406-1.81-.213-3.486-2.505-5.778-1.17-1.17-2.968-2.447-5.211-3.592z" />
    </svg>
  );
}

function ClockIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" role="img" aria-hidden="true">
      <path d="M8 3.5a.5.5 0 0 0-1 0V9a.5.5 0 0 0 .252.434l3.5 2a.5.5 0 0 0 .496-.868L8 8.71z" />
      <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
    </svg>
  );
}

function CameraIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" role="img" aria-hidden="true">
      <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0" />
      <path d="M4.318 1a1.75 1.75 0 0 0-1.59 1.025l-.65 1.485a.75.75 0 0 1-.548.44A2.5 2.5 0 0 0 0 6.4v5.85A2.75 2.75 0 0 0 2.75 15h10.5A2.75 2.75 0 0 0 16 12.25V6.4a2.5 2.5 0 0 0-1.53-2.45.75.75 0 0 1-.548-.44l-.65-1.485A1.75 1.75 0 0 0 11.682 1zM4.2 2.306A.25.25 0 0 1 4.318 2h7.364a.25.25 0 0 1 .228.144l.539 1.23a2.25 2.25 0 0 0 1.074 1.12 1 1 0 0 1 .577.906v5.85c0 .69-.56 1.25-1.25 1.25H2.75A1.25 1.25 0 0 1 1.5 11.25V6.4a1 1 0 0 1 .577-.906 2.25 2.25 0 0 0 1.074-1.12z" />
    </svg>
  );
}

function SparkIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" role="img" aria-hidden="true">
      <path d="M8 0c.176 1.69.803 3.132 2.03 4.361C11.262 5.592 12.71 6.21 14.4 6.4c-1.69.176-3.132.803-4.361 2.03C8.808 9.662 8.19 11.11 8 12.8c-.176-1.69-.803-3.132-2.03-4.361C4.738 7.192 3.29 6.575 1.6 6.4c1.69-.19 3.132-.808 4.37-2.039C7.19 3.131 7.816 1.69 8 0m-5 8c.09.861.378 1.598.954 2.22C4.53 10.852 5.27 11.14 6.133 11.2c-.862.085-1.602.373-2.179.951-.576.576-.864 1.315-.95 2.179-.09-.863-.379-1.602-.955-2.18C1.471 11.573.733 11.285-.13 11.2c.862-.06 1.602-.348 2.179-.98C2.625 9.597 2.914 8.861 3 8m10-1c.066.634.275 1.177.693 1.63.447.476.99.686 1.637.748-.646.057-1.19.267-1.637.744-.418.454-.627.997-.693 1.634-.066-.637-.276-1.18-.693-1.634-.447-.477-.99-.687-1.637-.744.646-.062 1.19-.272 1.637-.748.417-.453.626-.996.693-1.63" />
    </svg>
  );
}

function ShieldIcon() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" viewBox="0 0 16 16" role="img" aria-hidden="true">
      <path d="M5.338.712A1 1 0 0 1 6.29.487a9.1 9.1 0 0 0 3.42 0 1 1 0 0 1 .952.225l3 2.7a1 1 0 0 1 .338.74v2.849c0 2.74-1.322 4.788-2.636 6.177a12.5 12.5 0 0 1-2.833 2.214l-.003.002-.002.001a2 2 0 0 1-1.99 0l-.003-.001-.003-.002a12.5 12.5 0 0 1-2.833-2.214C2.02 11.684.7 9.636.7 6.876V3.944a1 1 0 0 1 .338-.74z" />
    </svg>
  );
}

// Conversão: copy orientada a benefício, CTA acima da dobra, prova social e FAQ para reduzir objeções.
const navLinks = [
  { href: "#para-quem", label: "Para quem é" },
  { href: "#o-que-faz", label: "O que faz" },
  { href: "#como-funciona", label: "Como funciona" },
  { href: "#prova-social", label: "Depoimentos" },
  { href: "#planos", label: "Planos" },
  { href: "#faq", label: "FAQ" },
];

const heroBullets = [
  "Gera cardápios semanais ou mensais personalizados.",
  "Sugere receitas com os ingredientes que você tem.",
  "Calcula macros automaticamente por foto das refeições.",
  "Cria posts e textos de nutrição em segundos.",
];

const howSteps = [
  {
    title: "Você envia seus dados",
    description: "Objetivo, restrições, preferências, rotina e, se quiser, fotos do corpo ou pratos.",
    icon: <CameraIcon />,
  },
  {
    title: "A IA analisa tudo automaticamente",
    description: "Interpreta imagens, calcula calorias e entende seu padrão alimentar para evitar dietas genéricas.",
    icon: <SparkIcon />,
  },
  {
    title: "Você recebe sua dieta personalizada",
    description: "Cardápio, macros, substituições, lista de compras e posts prontos para clientes ou seguidores.",
    icon: <LeafIcon />,
  },
];

const forWho = [
  "Nutricionistas que querem ganhar velocidade com clientes.",
  "Criadores de conteúdo de alimentação e saúde.",
  "Pessoas que querem organizar refeições sem planilhas.",
  "Quem precisa de cardápio sob medida (low-carb, ganho de massa, etc.).",
  "Quem tem pouco tempo para planejar o que vai comer.",
];

const whatItDoes = [
  {
    title: "Cardápios prontos em minutos",
    description: "Sem planilhas nem fórmulas: a IA monta semana ou mês com substituições e macros.",
    icon: <ClockIcon />,
  },
  {
    title: "Sugestões por ingredientes",
    description: "Diga o que tem em casa e receba receitas rápidas, com macro já calculado.",
    icon: <LeafIcon />,
  },
  {
    title: "Conteúdo para nutricionistas",
    description: "Posts, e-books e textos de educação alimentar gerados em segundos.",
    icon: <SparkIcon />,
  },
  {
    title: "Macros por foto",
    description: "Envie foto do prato e receba estimativas de calorias e ajustes recomendados.",
    icon: <CameraIcon />,
  },
];

const testimonials = [
  {
    name: "Patrícia, 34",
    goal: "Perdeu 5kg em 6 semanas",
    quote: "A IA montou cardápio que coube na minha rotina corrida. As fotos das refeições viraram macros automáticas.",
    icon: <ShieldIcon />,
  },
  {
    name: "Bruno, 28",
    goal: "Ganho de massa",
    quote: "Usei foto do prato e vi na hora onde ajustar proteína e carbo. Em 4 semanas já senti diferença.",
    icon: <SparkIcon />,
  },
  {
    name: "Lívia, 41",
    goal: "Organização alimentar",
    quote: "Planos semanais com substituições simples e lista de compras. Parei de sofrer pensando no que comer.",
    icon: <LeafIcon />,
  },
];

const checkoutItems = [
  "Cardápios personalizados (semanal/mensal) em minutos",
  "Macros automáticas por foto de prato ou corpo",
  "Sugestões de receitas pelo que você tem na cozinha",
  "Posts e textos prontos sobre nutrição e alimentação",
  "Lista de compras otimizada e substituições",
  "Ajustes contínuos conforme rotina e objetivo",
  "Garantia de 7 dias: não gostou, devolvemos",
];

const faqItems = [
  {
    question: "A IA substitui nutricionista?",
    answer: "Não. Ela acelera cálculos, cardápios e conteúdos, mas não fornece diagnóstico ou prescrição médica.",
  },
  {
    question: "Posso usar com clientes da minha clínica ou consultoria?",
    answer: "Sim. Você pode gerar cardápios, posts e materiais educativos para clientes, mantendo sua supervisão profissional.",
  },
  {
    question: "Preciso instalar algo?",
    answer: "Não. Acesso direto via web. É só preencher seus dados e usar no celular ou computador.",
  },
  {
    question: "Como ficam meus dados e fotos?",
    answer: "Usamos apenas para gerar seu plano. Não compartilhamos com terceiros e seguimos princípios da LGPD.",
  },
  {
    question: "O que recebo imediatamente após pagar?",
    answer: "Acesso completo ao Aliment A.I., com geração de cardápios, macros por foto e conteúdos prontos.",
  },
];

function SectionHeader({ eyebrow, title, description, align = "center" }) {
  return (
    <div className={`section-header ${align === "left" ? "align-left" : ""}`} data-reveal>
      {eyebrow && <span className="eyebrow">{eyebrow}</span>}
      <h2>{title}</h2>
      {description && <p>{description}</p>}
    </div>
  );
}

function Card({ icon, title, description, children }) {
  const cardIcon = icon ?? <CheckIcon />;
  return (
    <article className="card" data-reveal>
      <div className="icon-wrapper">{cardIcon}</div>
      {title && <h3>{title}</h3>}
      {description && <p>{description}</p>}
      {children}
    </article>
  );
}

function Navbar() {
  const [open, setOpen] = React.useState(false);

  return (
    <header className="topbar">
      <div className="container topbar-inner">
        <a className="brand" href="#inicio" aria-label="Aliment A.I.">
          Aliment A.I.
        </a>
        <button
          className="menu-toggle"
          onClick={() => setOpen((prev) => !prev)}
          aria-expanded={open}
          aria-label="Abrir menu de navegação"
        >
          <span></span>
          <span></span>
          <span></span>
        </button>
        <nav className={`nav ${open ? "open" : ""}`} aria-label="Navegação principal">
          <ul className="nav-links">
            {navLinks.map((link) => (
              <li key={link.label}>
                <a href={link.href} onClick={() => setOpen(false)}>
                  {link.label}
                </a>
              </li>
            ))}
          </ul>
          <a className="button small" href="#planos">
            Testar agora
          </a>
        </nav>
      </div>
    </header>
  );
}

function Hero() {
  return (
    <section className="hero" id="inicio">
      <div className="container hero-grid">
        <div className="hero-content" data-reveal>
          <span className="eyebrow">IA que cria seu plano alimentar de ponta a ponta</span>
          <h1>Seu assistente de IA para cardápios, dietas e conteúdo de nutrição.</h1>
          <p>
            Gere cardápios personalizados, sugestões de refeições e posts sobre alimentação em poucos segundos, usando o
            poder do GPT adaptado para nutrição.
          </p>
          <ul className="hero-highlights">
            {heroBullets.map((item) => (
              <li key={item}>
                <CheckIcon /> {item}
              </li>
            ))}
          </ul>
          <div className="hero-actions">
            <a className="button" href="#planos">
              Testar Aliment A.I. agora
            </a>
          </div>
          <p className="microcopy">Acesso imediato · Funciona no celular · Sem mensalidade</p>
        </div>

        <div className="hero-side" data-reveal>
          <div className="hero-card">
            <h3>Em minutos você recebe</h3>
            <ul>
              <li>
                <SparkIcon /> Cardápios semanais com substituições e macros.
              </li>
              <li>
                <CameraIcon /> Estimativa de calorias por foto dos pratos.
              </li>
              <li>
                <LeafIcon /> Lista de compras otimizada e preparos rápidos.
              </li>
              <li>
                <ShieldIcon /> Alertas de consistência, hidratação e sono.
              </li>
            </ul>
            <div className="pill">Sem mensalidade. Acesso imediato.</div>
          </div>

          <figure className="hero-image">
            <img
              src="https://images.unsplash.com/photo-1540189549336-e6e99c3679fe?auto=format&fit=crop&w=1200&q=80"
              alt="Prato saudável com legumes frescos e proteína"
              loading="lazy"
            />
            <figcaption>
              <CameraIcon />
              <span>Envie uma foto e receba macros, sugestões e versões alternativas.</span>
            </figcaption>
          </figure>
        </div>
      </div>
    </section>
  );
}

function HowItWorksSection() {
  return (
    <section id="como-funciona">
      <div className="container">
        <SectionHeader
          eyebrow="Como funciona"
          title="3 passos para sua dieta personalizada"
          description="Sem burocracia: envie, a IA analisa e você recebe o plano pronto para começar hoje."
        />
        <div className="steps-grid">
          {howSteps.map((step, index) => (
            <div className="step-card" key={step.title} data-reveal>
              <span className="step-number">{index + 1}</span>
              <div className="step-body">
                <div className="step-title">
                  <span className="icon-wrapper small">{step.icon}</span>
                  <h4>{step.title}</h4>
                </div>
                <p>{step.description}</p>
              </div>
            </div>
          ))}
        </div>
        <div className="hero-actions">
          <a className="button" href="#planos">
            Testar Aliment A.I. agora
          </a>
        </div>
      </div>
    </section>
  );
}

function ForWhoSection() {
  return (
    <section id="para-quem">
      <div className="container">
        <SectionHeader
          eyebrow="Para quem é"
          title="O Aliment A.I. é para você que…"
          description="Precisa de cardápios prontos, conteúdo de nutrição e organização alimentar sem perder tempo."
        />
        <div className="card-grid">
          {forWho.map((item) => (
            <Card key={item} icon={<CheckIcon />} title={item} />
          ))}
        </div>
      </div>
    </section>
  );
}

function WhatItDoesSection() {
  return (
    <section id="o-que-faz">
      <div className="container">
        <SectionHeader
          eyebrow="O que ele faz"
          title="Tudo o que você precisa para criar cardápios, macros e conteúdo em minutos"
          description="IA especializada em nutrição: de cardápios a posts, passando por cálculo de macros com foto."
        />
        <div className="card-grid">
          {whatItDoes.map((item) => (
            <Card key={item.title} icon={item.icon} title={item.title} description={item.description} />
          ))}
        </div>
      </div>
    </section>
  );
}

function SocialProofSection() {
  return (
    <section id="prova-social">
      <div className="container">
        <SectionHeader
          eyebrow="Prova social"
          title="Quem já testou aprovou"
          description="Depoimentos reais de quem usou a IA para montar dieta, ajustar macros e manter consistência."
        />
        <div className="testimonials">
          {testimonials.map((item) => (
            <article className="testimonial-card" key={item.name} data-reveal>
              <div className="testimonial-header">
                <div className="icon-wrapper small">{item.icon}</div>
                <div>
                  <p className="name">{item.name}</p>
                  <p className="goal">{item.goal}</p>
                </div>
              </div>
              <p className="quote">“{item.quote}”</p>
            </article>
          ))}
        </div>
        <div className="pill" data-reveal>Garantia de 7 dias: não gostou, devolvemos seu dinheiro.</div>
      </div>
    </section>
  );
}

function FaqSection() {
  return (
    <section id="faq">
      <div className="container">
        <SectionHeader
          eyebrow="FAQ"
          title="Perguntas frequentes"
          description="Dúvidas que mais aparecem de nutricionistas, criadores e pessoas que querem organizar a alimentação."
        />
        <div className="faq">
          {faqItems.map((item) => (
            <details className="faq-item" key={item.question} data-reveal>
              <summary className="faq-question">
                <span>{item.question}</span>
                <span className="faq-toggle">+</span>
              </summary>
              <p className="faq-answer">{item.answer}</p>
            </details>
          ))}
        </div>
      </div>
    </section>
  );
}

function PlansSection() {
  return (
    <section id="planos">
      <div className="container">
        <SectionHeader
          eyebrow="Planos"
          title="Oferta especial para testar o Aliment A.I."
          description="Acesso imediato ao assistente de IA para cardápios, macros por foto e conteúdo de nutrição."
        />
        <div className="card-grid">
          {checkoutItems.map((item) => (
            <Card key={item} icon={<CheckIcon />} title={item} />
          ))}
        </div>
        <div className="cta checkout-cta" data-reveal>
          <p className="microcopy warning">⚠️ Acesso limitado — quando as vagas encerram, só reabre na próxima abertura.</p>
          <p className="microcopy">Se em 7 dias você não sentir que está mais organizado(a), disciplinado(a) e no caminho certo, devolvo seu dinheiro.</p>
          <a className="button" href="https://pay.cakto.com.br/jevbyq2_673427" rel="noopener noreferrer">
            Testar Aliment A.I. agora
          </a>
        </div>
      </div>
    </section>
  );
}

function FinalCta() {
  return (
    <section className="cta final" id="cta">
      <div className="container" data-reveal>
        <h2>Pronto(a) para ter um assistente de nutrição que entrega cardápios e conteúdo em segundos?</h2>
        <a className="button" href="https://pay.cakto.com.br/jevbyq2_673427" rel="noopener noreferrer">
          Testar Aliment A.I. agora
        </a>
        <p className="subtitle">Acesso imediato · Comece em 60 segundos · Sem burocracia</p>
      </div>
    </section>
  );
}

function Footer() {
  return (
    <footer className="footer" id="contato">
      <div className="container footer-inner">
        <div>
          <p className="brand">Aliment A.I.</p>
          <p className="muted">IA feita para cardápios e dietas personalizadas.</p>
        </div>
        <a href="#inicio" className="back-to-top">
          Voltar ao topo
        </a>
      </div>
    </footer>
  );
}

function useReveal() {
  React.useEffect(() => {
    const elements = Array.from(document.querySelectorAll("[data-reveal]"));
    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
            observer.unobserve(entry.target);
          }
        });
      },
      { threshold: 0.18 }
    );

    elements.forEach((el) => observer.observe(el));
    return () => observer.disconnect();
  }, []);
}

function LandingPage() {
  useReveal();
  return (
    <div className="page">
      <Navbar />
      <main>
        <Hero />
        <ForWhoSection />
        <WhatItDoesSection />
        <HowItWorksSection />
        <SocialProofSection />
        <PlansSection />
        <FaqSection />
        <FinalCta />
      </main>
      <Footer />
    </div>
  );
}

ReactDOM.render(<LandingPage />, document.getElementById("root"));
